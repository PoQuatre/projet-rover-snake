(()=>{"use strict";var e;!function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(e||(e={}));const t=20,r=50,n=50,a=(e,t,r)=>Math.min(Math.max(e,t),r),c={direction:e.UP,x:0,y:0,move(){let{x:t,y:r}=c;switch(this.direction){case e.UP:r--;break;case e.DOWN:r++;break;case e.LEFT:t--;break;case e.RIGHT:t++}return c.x=a(t,0,9),c.y=a(r,0,9),c.x!==t||c.y!==r}},i={respawn(){this.x=Math.floor(10*Math.random()),this.y=Math.floor(10*Math.random())}},o=(e,a,o)=>{e.clearRect(0,0,a,o),(e=>{for(let a=0;a<10;a++)for(let c=0;c<10;c++)e.strokeRect(t+a*r,t+c*n,r,n)})(e),(e=>{e.fillStyle="#0f0",e.fillRect(t+c.x*r,t+c.y*n,r,n),e.fillStyle="#000"})(e),(e=>{e.fillStyle="#f00","number"==typeof i.x&&"number"==typeof i.y&&e.fillRect(t+i.x*r,t+i.y*n,r,n),e.fillStyle="#000"})(e)},l=document.getElementById("game"),s=l.getContext("2d");if(null===s)throw new Error("An error occured while getting the canvas context");l.width=540,l.height=540,document.addEventListener("keydown",(t=>{switch(t.code){case"ArrowUp":case"KeyW":c.direction=e.UP;break;case"ArrowDown":case"KeyS":c.direction=e.DOWN;break;case"ArrowLeft":case"KeyA":c.direction=e.LEFT;break;case"ArrowRight":case"KeyD":c.direction=e.RIGHT}})),(()=>{let t=null,r=null;document.addEventListener("touchstart",(e=>{t=e.touches[0].clientX,r=e.touches[0].clientY})),document.addEventListener("touchmove",(n=>{if(!t||!r)return;const a=t-n.touches[0].clientX,i=r-n.touches[0].clientY;Math.abs(a)<100&&Math.abs(i)<100||(Math.abs(a)>Math.abs(i)?c.direction=a>0?e.LEFT:e.RIGHT:c.direction=i>0?e.UP:e.DOWN,t=null,r=null)}))})(),i.respawn();const h=setInterval((()=>{c.move()&&clearInterval(h),c.x===i.x&&c.y===i.y&&i.respawn(),requestAnimationFrame((()=>o(s,l.width,l.height)))}),250);o(s,l.width,l.height)})();